$ease:     ease-in-out;
$speed:             8s;
$stroke-width:      15; 

$path-length:     8024;
$monogram-start:  .000;
$monogram-end:    .447;
$face-start:      .542;
$face-end:        .946;

@mixin line($start, $end) {
  $offset:   $start * -$path-length;
  $stroke:   $end * $path-length + $offset;
  $gap:      $path-length - $stroke;
  
  stroke-dashoffset: $offset;
  stroke-dasharray: $stroke $gap;
}

@keyframes monogram-loop {
  000% { @include line($monogram-start,   $monogram-end  )}
  050% { @include line($face-start,       $face-end      )}
  100% { @include line($monogram-start+1, $monogram-end+1)}
}

%face { 
  transition-property: stroke-dasharray, stroke-dashoffset;
  transition-duration: .8s;
  transition-timing-function: ease-out;
  @include line($face-start,   $face-end  ) }
%monogram { 
  @extend %face;
  @include line($monogram-start,   $monogram-end  ) }

svg.avatar {
  // cursor: help;
  stroke-width: $stroke-width;
  fill: none;
  stroke: currentColor;
  .face { @extend %face; }
  .monogram { @extend %monogram; }
  &:hover {
    .face { @extend %monogram; }
    .monogram { @extend %face; }
  }

  .loop {
    stroke-width: $stroke-width;
    fill-opacity: 0;
    stroke: #FFF;
    transition: none;
    animation: monogram-loop $speed infinite $ease; 
  }
}
